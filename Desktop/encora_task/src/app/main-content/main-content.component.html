<nav class="navbar navbar-light bg-light">
  <div class="container-fluid">
    <a class="navbar-brand" href="/main">
      Wellcome {{($user|async)?.firstName}}
    </a>
    <!-- <a style="float:right" href="#about"><button (click)="logout()">LogOut</button></a> -->
    <a href="#" class="btn btn-info btn-lg" (click)="logout()">
      <span class="glyphicon glyphicon-log-out" ></span> Log out
    </a>
  </div>
</nav>

<div class="m-4">
  <div class="d-flex justify-content-between">
   <select [(ngModel)]="selectedCompany" (change)="getCompany($event.target)">
      <option value="1" selected disabled>Selec Company</option>
      <option *ngFor="let company of companies" [value]="company.id">{{company.name}}</option>
    </select>
  </div>


  <div *ngIf="company" class="">
    <div class="d-flex">
      <div class="col-6">
        Name: {{company.name}}
        Description: {{company.description}}
      </div>
      <div class="col-6">
        <img [src]="company.logo" alt="" height="150">
      </div>
    </div>
  
    <div>
      <div class="d-flex justify-content-between ">
        <h3>Contacts</h3>
        <button (click)="add()">Add</button>
      </div>
      <table class="w-100 mt-2">
        <tr>
          <th>Name</th>
          <th>Country</th>
          <th>Phone</th>
          <th>Options</th>
        </tr>
        <tr *ngFor="let contact of contacs; let i = index">
          <td>{{contact.name}}</td>
          <td>{{contact.country}}</td>
          <td>{{contact.phone}}</td>
          <td>
            
            <button class="ml-2" (click)="edit(contact)">Edit</button>
            <button class="ml-2" (click)="delete(i)">Delete</button>
          </td>
        </tr>
      </table>
    </div>


    
  </div>

  <div *ngIf="create" class="mt-3">
    <form [formGroup]="contactForm">
      <h2>{{title}}</h2>
      <div class="row">
          <div class="col-sm-6">

                  <input matInput type="text" placeholder="Name" formControlName="name">
                  <input matInput type="text" placeholder="Country" formControlName="country">
                  <input matInput type="text" placeholder="Phone" formControlName="phone">
                  <button (click)="update()">GO</button>
          </div>
          
      </div>


  </form>
  </div>

</div>

